# מסמך אפיון מערכת ניהול שעות - טכנודע

## תוכן עניינים
1. [סקירה כללית](#סקירה-כללית)
2. [מטרות המערכת](#מטרות-המערכת)
3. [משתמשי המערכת](#משתמשי-המערכת)
4. [ארכיטקטורה טכנולוגית](#ארכיטקטורה-טכנולוגית)
5. [אימות והרשאות](#אימות-והרשאות)
6. [מבנה נתונים](#מבנה-נתונים)
7. [ממשק מדריך](#ממשק-מדריך)
8. [ממשק רכז](#ממשק-רכז)
9. [ממשק מנהלת כספים](#ממשק-מנהלת-כספים)
10. [ממשק אדמין](#ממשק-אדמין)
11. [תהליכי עבודה](#תהליכי-עבודה)
12. [עיצוב וחווית משתמש](#עיצוב-וחווית-משתמש)
13. [אבטחת מידע](#אבטחת-מידע)
14. [גיבוי ושחזור](#גיבוי-ושחזור)
15. [התראות ומיילים](#התראות-ומיילים)
16. [דרישות נוספות](#דרישות-נוספות)

---

## סקירה כללית

### רקע
מערכת ניהול שעות עבור ארגון טכנודע, שתאפשר למדריכים לדווח על שעות העבודה שלהם, לרכזים לאשר ולנהל דיווחים, ולמנהלת הכספים לקבל דוחות מאושרים לצורך תשלום.

### היקף הפרויקט
מערכת web-based מלאה הכוללת:
- ניהול משתמשים והרשאות
- דיווח שעות דינאמי
- מערכת אישורים היררכית
- דוחות מפורטים
- ייצוא נתונים
- גיבוי אוטומטי
- התראות במייל

---

## מטרות המערכת

### מטרות עיקריות
1. **ייעול תהליך דיווח שעות** - מעבר ממערכת ידנית למערכת דיגיטלית מלאה
2. **שקיפות וביקורת** - מעקב אחר כל שינוי ואישור בדיווחים
3. **חיסכון בזמן** - הפחתת זמן עיבוד דיווחים משבועות לימים
4. **דיוק** - מניעת טעויות אנוש בחישובים ובהעברת מידע
5. **נגישות** - גישה למערכת מכל מקום ובכל זמן

### מטרות משניות
- שיפור התקשורת בין מדריכים לרכזים
- יצירת מאגר היסטורי של דיווחי שעות
- אפשרות לניתוח נתונים עתידי
- הפחתת עומס מנהלי על מנהלת הכספים

---

## משתמשי המערכת

### 1. מדריכים (Instructors)
**תיאור**: צוות ההוראה המדווח על שעות העבודה שלו.

**מספר משתמשים**: כ-20-50 מדריכים

**תפקידים**:
- מילוי דיווחי שעות חודשיים
- שליחת דיווחים לרכזים
- צפייה בהיסטוריית דיווחים
- קבלת משוב על דיווחים (אישור/דחייה)

**הרשאות**:
- ✅ צפייה ועריכה של דיווחי השעות האישיים
- ✅ שליחת דיווחים לרכזים המשויכים
- ✅ צפייה בנתונים האישיים
- ✅ גישה להגדרות אישיות (ערכות נושא, גיבויים)
- ❌ אין גישה לדיווחים של מדריכים אחרים
- ❌ אין אפשרות לערוך נתונים אישיים

### 2. רכזים (Coordinators)
**תיאור**: אחראים על אישור ובקרת דיווחי שעות של מדריכים בתחומי האחריות שלהם.

**מספר משתמשים**: כ-5-10 רכזים

**תפקידים**:
- שיוך מדריכים לניהול
- הקצאת תחומים למדריכים
- סקירה ואישור דיווחי שעות
- עריכת דיווחים (במידת הצורך)
- שליחת דיווחים מאושרים למנהלת כספים
- החזרת דיווחים לתיקון

**הרשאות**:
- ✅ צפייה בכל הדיווחים של המדריכים המשויכים
- ✅ עריכת דיווחי שעות (בסימון מיוחד)
- ✅ אישור/דחיית דיווחים
- ✅ שיוך וניהול מדריכים
- ✅ הקצאת תחומי אחריות
- ✅ צפייה בנתונים אישיים של מדריכים
- ❌ אין גישה לדיווחים של רכזים אחרים

### 3. מנהלת כספים (Finance Manager)
**תיאור**: שולי - אחראית על קבלת דוחות מאושרים ועל תשלום למדריכים.

**מספר משתמשים**: 1 משתמש (שולי)

**תפקידים**:
- צפייה בדוחות מאושרים
- ייצוא דוחות ל-Excel
- מעקב אחר סטטוס אישורים
- ניהול תשלומים על בסיס הדוחות

**הרשאות**:
- ✅ צפייה בכל הדיווחים המאושרים
- ✅ ייצוא דוחות ל-Excel
- ✅ סינון והצגה לפי תקופות שונות
- ✅ צפייה בסטטוס אישורים
- ❌ אין אפשרות לערוך דיווחים
- ❌ רואה רק דיווחים שאושרו על ידי רכז

### 4. אדמין (Administrator)
**תיאור**: מנהל המערכת - papasnir@gmail.com (שניר דואני).

**מספר משתמשים**: 1 משתמש

**תפקידים**:
- הוספת והסרת רכזים
- הוספת והסרת מדריכים
- שיוך תחומי אחריות לרכזים
- ניהול כללי של המערכת
- צפייה בכל הנתונים במערכת

**הרשאות**:
- ✅ גישה מלאה לכל המערכת
- ✅ ניהול משתמשים
- ✅ הגדרת תחומים ומקצועות
- ✅ צפייה בכל הדיווחים
- ✅ גישה להגדרות מתקדמות

---

## ארכיטקטורה טכנולוגית

### סטאק טכנולוגי

#### Frontend
```
- HTML5
- CSS3 (עם משתני CSS לערכות נושא)
- JavaScript (Vanilla JS - ללא frameworks)
- Font: 'Bricolage Grotesque' מ-Google Fonts
```

#### Backend & Database
```
- Firebase Authentication (אימות משתמשים)
- Firebase Realtime Database / Firestore (בסיס נתונים)
- Firebase Hosting (אירוח האפליקציה)
```

#### שירותים חיצוניים
```
- EmailJS (שליחת מיילים אוטומטיים)
- Google Accounts (התחברות דרך חשבון Google)
```

### דרישות מערכת

#### דפדפנים נתמכים
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

#### רזולוציות נתמכות
- Desktop: 1920x1080 ומעלה
- Tablet: 768x1024 ומעלה
- Mobile: 375x667 ומעלה (נייד - תמיכה בסיסית)

---

## אימות והרשאות

### תהליך התחברות

#### שלב 1: אימות Google
```
1. משתמש לוחץ על "התחבר עם Google"
2. Firebase Authentication מבצע אימות דרך Google OAuth
3. המערכת מקבלת את כתובת המייל של המשתמש
```

#### שלב 2: ולידציה
```
1. המערכת בודקת אם המייל קיים ברשימת המשתמשים המורשים
2. אם כן - המשתמש מקבל גישה למערכת
3. אם לא - הודעת שגיאה: "משתמש לא מורשה"
```

#### שלב 3: הפניה לממשק המתאים
```
- אם role = "instructor" -> הפניה לממשק מדריך
- אם role = "coordinator" -> הפניה לממשק רכז
- אם role = "finance" -> הפניה לממשק מנהלת כספים
- אם role = "admin" -> הפניה לממשק אדמין
```

### מודל הרשאות

```javascript
{
  "users": {
    "papasnir@gmail.com": {
      "fullName": "שניר דואני",
      "role": "admin",
      "status": "active"
    },
    "instructor1@gmail.com": {
      "fullName": "רונאל כהן",
      "role": "instructor",
      "assignedCoordinators": ["coordinator1", "coordinator2"],
      "subjects": {
        "morning": ["תכנית בוקר"],
        "afternoon": ["מחשבים", "כימיה"]
      },
      "status": "active"
    },
    "coordinator1@gmail.com": {
      "fullName": "אלי לוי",
      "role": "coordinator",
      "managedSubjects": ["מחשבים", "אסטרונומיה"],
      "status": "active"
    },
    "shuli@technoda.org.il": {
      "fullName": "שולי",
      "role": "finance",
      "status": "active"
    }
  }
}
```

---

## מבנה נתונים

### מבנה בסיס הנתונים ב-Firebase

```javascript
{
  // רשימת משתמשים
  "users": {
    "{userId}": {
      "email": "user@example.com",
      "fullName": "שם מלא",
      "role": "instructor | coordinator | finance | admin",
      "assignedCoordinators": ["coordinatorId1", "coordinatorId2"], // למדריכים בלבד
      "managedSubjects": ["כימיה", "מחשבים"], // לרכזים בלבד
      "subjects": {
        "morning": ["תכנית בוקר", "מחוננים"],
        "afternoon": ["כימיה", "מחשבים", "אסטרונומיה"]
      },
      "status": "active | inactive",
      "createdAt": "timestamp",
      "lastLogin": "timestamp"
    }
  },

  // דיווחי שעות
  "timesheets": {
    "{instructorId}": {
      "{year}": { // 2025
        "{month}": { // 11
          "entries": {
            "{entryId}": {
              "date": "2025-11-01",
              "period": "morning | afternoon",
              "subject": "כימיה",
              "hours": {
                "teaching": 4, // שעות הדרכה
                "training": 2  // שעות השתלמות
              },
              "createdAt": "timestamp",
              "updatedAt": "timestamp"
            }
          },
          
          // סטטוס שליחה לכל רכז
          "submissions": {
            "{coordinatorId}": {
              "status": "draft | submitted | approved | rejected | returned",
              "submittedAt": "timestamp",
              "reviewedAt": "timestamp",
              "reviewedBy": "coordinatorId",
              "note": "הערת הרכז",
              "resubmissionCount": 0
            }
          },
          
          // עריכות שביצע הרכז
          "coordinatorEdits": [
            {
              "editId": "edit1",
              "coordinatorId": "coord1",
              "coordinatorName": "שניר דואני",
              "entryId": "entry1",
              "date": "2025-11-02",
              "subject": "כימיה",
              "period": "afternoon",
              "oldValue": {
                "teaching": 4,
                "training": 2
              },
              "newValue": {
                "teaching": 3,
                "training": 2
              },
              "reason": "תיקון לפי נוכחות בפועל",
              "timestamp": "timestamp"
            }
          ],
          
          // סיכום חודשי
          "summary": {
            "totalTeachingHours": 80,
            "totalTrainingHours": 20,
            "totalHours": 100,
            "bySubject": {
              "כימיה": {
                "teaching": 30,
                "training": 10
              },
              "מחשבים": {
                "teaching": 50,
                "training": 10
              }
            }
          }
        }
      }
    }
  },

  // גיבויים למדריכים
  "backups": {
    "{instructorId}": {
      "{backupId}": {
        "timestamp": "timestamp",
        "action": "הוספת 6 שעות ב-2.11 במחשבים",
        "data": {
          "year": 2025,
          "month": 11,
          "entries": {...} // העתק מלא של הנתונים לפני השינוי
        },
        "automatic": true
      }
    }
  },

  // רכזים וניהול מדריכים
  "coordinators": {
    "{coordinatorId}": {
      "name": "שניר דואני",
      "email": "coordinator@example.com",
      "managedSubjects": ["כימיה", "מחשבים", "אסטרונומיה"],
      "assignedInstructors": {
        "{instructorId}": {
          "name": "רונאל כהן",
          "email": "instructor@example.com",
          "allowedSubjects": ["כימיה", "מחשבים"],
          "assignedAt": "timestamp"
        }
      }
    }
  },

  // הגדרות מערכת
  "settings": {
    "subjects": {
      "morning": ["תכנית בוקר", "מחוננים"],
      "afternoon": ["כימיה", "מחשבים", "אסטרונומיה"]
    },
    "themes": {
      "default": {
        "name": "ברירת מחדל",
        "colors": {
          "bg": "#0a0e27",
          "primary": "#3b82f6",
          "secondary": "#8b5cf6"
        }
      }
    },
    "emailTemplates": {
      "reportSubmitted": {...},
      "reportApproved": {...},
      "reportRejected": {...},
      "reportResubmitted": {...}
    }
  }
}
```

---

## ממשק מדריך

### עמוד ראשי

#### Header (כותרת עליונה)
```
┌────────────────────────────────────────────┐
│  שלום רונאל                    [לוגו]      │
└────────────────────────────────────────────┘
```

#### תפריט ניווט
```
┌────────────────────────────────────────────┐
│  [דיווח שעות]  [הסטוריית דיווחים]         │
│  [נתונים אישיים]  [הגדרות]                │
└────────────────────────────────────────────┘
```

### 1. דיווח שעות

#### מבנה הטבלה
```
תצוגה: נובמבר 2025                          [<] [>]

┌────────┬────────┬──────────────────────────┬──────────────────────────┬──────────┐
│ תאריך  │ משמרת  │ כימיה                    │ מחשבים                   │ סה"כ     │
│        │        ├────────┬─────────────────┼────────┬─────────────────┤          │
│        │        │ הדרכה  │ השתלמות         │ הדרכה  │ השתלמות         │          │
├────────┼────────┼────────┼─────────────────┼────────┼─────────────────┼──────────┤
│ 1.11   │ בוקר   │   -    │       -         │   -    │       -         │    0     │
├────────┼────────┼────────┼─────────────────┼────────┼─────────────────┼──────────┤
│ 1.11   │ אחה"צ  │ [▼ 4]  │     [▼ 2]       │ [▼ 3]  │     [▼ 1]       │   10     │
├────────┼────────┼────────┼─────────────────┼────────┼─────────────────┼──────────┤
│ 2.11   │ בוקר   │   -    │       -         │   -    │       -         │    0     │
├────────┼────────┼────────┼─────────────────┼────────┼─────────────────┼──────────┤
│ 2.11   │ אחה"צ  │ [▼ 5]  │     [▼ 0]       │ [▼ 4]  │     [▼ 0]       │    9     │
└────────┴────────┴────────┴─────────────────┴────────┴─────────────────┴──────────┘

סיכום חודשי:
┌──────────┬────────┬─────────────┬────────┐
│ מקצוע    │ הדרכה  │ השתלמות     │ סה"כ   │
├──────────┼────────┼─────────────┼────────┤
│ כימיה    │   45   │     12      │   57   │
│ מחשבים   │   38   │      8      │   46   │
├──────────┼────────┼─────────────┼────────┤
│ סה"כ     │   83   │     20      │  103   │
└──────────┴────────┴─────────────┴────────┘
```

#### פונקציונליות
- **Dropdown לבחירת שעות**: 0-10 שעות לכל תא
- **חישוב אוטומטי**: סיכום יומי וחודשי מתעדכן בזמן אמת
- **שמירה אוטומטית**: כל שינוי נשמר מיד ב-Firebase
- **גיבוי אוטומטי**: לפני כל שינוי נוצר גיבוי (עד 10 גיבויים אחרונים)
- **צבע סגול**: תאים שערך הרכז מסומנים בצבע סגול

#### כפתורי שליחה
```
[שגר לשניר (כימיה)]    [שגר לאלי (מחשבים)]
```

**הערות**:
- כל כפתור שולח רק את הדיווחים הרלוונטיים לתחומי האחריות של הרכז
- לאחר שליחה, הדיווח עדיין ניתן לעריכה
- ניתן לשלוח מחדש (הרכז יקבל התראה על שליחה חוזרת)

### 2. הסטוריית דיווחים

```
בחר חודש: [▼ אוקטובר 2025]

┌────────────────────────────────────────────────────────┐
│  דוח אוקטובר 2025                                     │
│  ─────────────────────────────────────────────────────│
│  סטטוס:                                               │
│    ✅ שניר (כימיה) - אושר ב-05.11.2025              │
│    ⏳ אלי (מחשבים) - ממתין לאישור                    │
│  ─────────────────────────────────────────────────────│
│  סה"כ שעות: 98 (הדרכה: 78, השתלמות: 20)             │
│                                                        │
│  [📄 צפה בדוח המלא]                                  │
└────────────────────────────────────────────────────────┘
```

**אגדות סטטוס**:
- ⏳ ממתין לאישור (submitted)
- ✅ אושר (approved)
- ❌ נדחה - טעון תיקון (rejected)
- 📝 טיוטה (draft)

### 3. נתונים אישיים

```
┌────────────────────────────────────────────┐
│  📋 נתונים אישיים                         │
│  ──────────────────────────────────────── │
│  שם: רונאל כהן                            │
│  מייל: ronalcohen@gmail.com               │
│                                            │
│  עובד בבוקר ב:                            │
│    • תכנית בוקר                           │
│                                            │
│  עובד אחה"צ ב:                            │
│    • מחשבים                                │
│    • כימיה                                 │
│                                            │
│  רכזים משויכים:                            │
│    • שניר דואני (כימיה)                   │
│    • אלי לוי (מחשבים)                     │
└────────────────────────────────────────────┘
```

**הערות**:
- מדריך יכול רק לצפות בנתונים, לא לערוך
- הנתונים מוגדרים על ידי רכז/אדמין

### 4. הגדרות

#### ערכות נושא
```
┌─────────────┬─────────────┬─────────────┬─────────────┐
│ [🔵 כחול]   │ [🟣 סגול]   │ [🟢 ירוק]   │ [🟠 כתום]   │
│   ברירת     │   Purple    │  Emerald   │   Sunset    │
│   מחדל      │   Dream     │    Pro     │    Fire     │
└─────────────┴─────────────┴─────────────┴─────────────┘

[💾 שמור ערכת נושא]
```

#### שחזור מגיבוי
```
┌────────────────────────────────────────────────────────┐
│  📦 גיבויים אחרונים (10 אחרונים)                     │
│  ──────────────────────────────────────────────────────│
│  1. הוספת 6 שעות ב-2.11 במחשבים                      │
│     תאריך: 02.11.2025 14:30                           │
│     [↩️ שחזר]                                         │
│  ──────────────────────────────────────────────────────│
│  2. עריכת 3 שעות ב-1.11 בכימיה                       │
│     תאריך: 01.11.2025 16:45                           │
│     [↩️ שחזר]                                         │
│  ──────────────────────────────────────────────────────│
│  3. מחיקת רשומה מ-30.10                               │
│     תאריך: 31.10.2025 09:15                           │
│     [↩️ שחזר]                                         │
└────────────────────────────────────────────────────────┘
```

#### הערות למפתח
```
┌────────────────────────────────────────────┐
│  💬 שלח הערה למפתח                        │
│  ────────────────────────────────────────  │
│  נושא: [________________]                 │
│                                            │
│  הודעה:                                   │
│  ┌──────────────────────────────────────┐ │
│  │                                      │ │
│  │                                      │ │
│  │                                      │ │
│  └──────────────────────────────────────┘ │
│                                            │
│  [📧 שלח ל-snir@technoda.org.il]          │
└────────────────────────────────────────────┘
```

---

## ממשק רכז

### עמוד ראשי

#### תפריט ניווט
```
┌────────────────────────────────────────────────────────┐
│  [אישורי דיווח שעות]  [שיוך מדריכים]  [ניהול מדריכים] │
│  [הגדרות]                                              │
└────────────────────────────────────────────────────────┘
```

### 1. אישורי דיווח שעות

```
רשימת מדריכים לאישור:

┌────────────────────────────────────────────────────────┐
│  👤 רונאל כהן - נובמבר 2025                           │
│  ──────────────────────────────────────────────────────│
│  סטטוס: ⏳ ממתין לאישור                               │
│  תאריך שליחה: 05.11.2025                              │
│  תחומים: כימיה (45 שעות), מחשבים (38 שעות)           │
│                                                        │
│  [👁️ צפה בדוח]  [✅ אשר]  [❌ דחה]                  │
└────────────────────────────────────────────────────────┘
```

#### צפייה בדוח - מצב עריכה
```
דוח שעות: רונאל כהן - נובמבר 2025
תחום: כימיה

┌────────┬────────┬──────────────────────────┬──────────┐
│ תאריך  │ משמרת  │ כימיה                    │ סה"כ     │
│        │        ├────────┬─────────────────┤          │
│        │        │ הדרכה  │ השתלמות         │          │
├────────┼────────┼────────┼─────────────────┼──────────┤
│ 1.11   │ אחה"צ  │ [▼ 4]  │     [▼ 2]       │    6     │
├────────┼────────┼────────┼─────────────────┼──────────┤
│ 2.11   │ אחה"צ  │ [▼ 5]  │     [▼ 0]       │    5     │
└────────┴────────┴────────┴─────────────────┴──────────┘

📝 הערות: 
┌──────────────────────────────────────────────┐
│ התאמת שעות בהתאם לנוכחות בפועל             │
└──────────────────────────────────────────────┘

[💾 שמור שינויים]  [✅ אשר ושלח]  [❌ החזר לתיקון]
```

**הערות חשובות**:
- עריכות הרכז מסומנות בצבע **סגול** גם אצל המדריך
- כל עריכה נרשמת בלוג עם שם הרכז, תאריך ושעה
- המדריך רואה את העריכות באופן דינאמי בזמן אמת

#### אישור סופי
```
┌────────────────────────────────────────────┐
│  ✅ אישור סופי                            │
│  ──────────────────────────────────────── │
│  האם לאשר את הדוח של רונאל כהן?         │
│  • סה"כ שעות: 45                         │
│  • 3 עריכות בוצעו על ידך                │
│                                           │
│  הדוח יישלח למנהלת הכספים                │
│                                           │
│  [✅ אשר ושלח לשולי]  [❌ ביטול]         │
└────────────────────────────────────────────┘
```

לאחר אישור:
- נשלח מייל לשולי (מנהלת כספים)
- הדוח מסומן כמאושר
- המדריך מקבל התראה על האישור

#### דחיית דוח
```
┌────────────────────────────────────────────┐
│  ❌ החזרת דוח לתיקון                      │
│  ──────────────────────────────────────── │
│  הערות למדריך:                           │
│  ┌──────────────────────────────────────┐ │
│  │ יש אי התאמה בתאריכים 5-7.11         │ │
│  │ נא לתקן ולשלוח מחדש                 │ │
│  └──────────────────────────────────────┘ │
│                                           │
│  [📧 שלח לתיקון]  [❌ ביטול]             │
└────────────────────────────────────────────┘
```

לאחר דחייה:
- המדריך מקבל מייל עם ההערות
- הדוח חוזר לסטטוס "נדחה - טעון תיקון"
- המדריך יכול לתקן ולשלוח מחדש

### 2. שיוך מדריכים

```
┌────────────────────────────────────────────────────────┐
│  ➕ הוסף מדריך                                        │
│  ──────────────────────────────────────────────────────│
│  בחר מדריך: [▼ בחר מהרשימה        ]  [➕ הוסף]     │
│                                                        │
│  רשימת המדריכים שלי:                                  │
│  ──────────────────────────────────────────────────────│
│  ┌──────────────────────────────────────────────────┐ │
│  │ 👤 רונאל כהן                           [🗑️ הסר] │ │
│  │    ronalcohen@gmail.com                          │ │
│  │    תחומים: כימיה, מחשבים                        │ │
│  │    תאריך שיוך: 01.09.2025                        │ │
│  └──────────────────────────────────────────────────┘ │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │ 👤 יעל אברהם                          [🗑️ הסר] │ │
│  │    yael@gmail.com                                │ │
│  │    תחומים: אסטרונומיה                           │ │
│  │    תאריך שיוך: 15.08.2025                        │ │
│  └──────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────┘
```

**פונקציונליות**:
- Dropdown מציג רק מדריכים שעדיין לא משויכים לרכז
- לחיצה על ➕ מוסיפה את המדריך לרשימה
- לחיצה על 🗑️ מסירה את השיוך (אישור נדרש)

### 3. ניהול מדריכים

```
┌────────────────────────────────────────────────────────┐
│  👤 רונאל כהן                                         │
│  ──────────────────────────────────────────────────────│
│  תחומי האחריות שלי: כימיה, מחשבים, אסטרונומיה        │
│                                                        │
│  הקצה תחומים למדריך:                                  │
│  ☑️ כימיה                                             │
│  ☑️ מחשבים                                            │
│  ☐ אסטרונומיה                                         │
│                                                        │
│  הקצה משמרות:                                          │
│  ☐ בוקר (תכנית בוקר, מחוננים)                        │
│  ☑️ אחר הצהריים                                       │
│                                                        │
│  [💾 שמור שינויים]                                   │
└────────────────────────────────────────────────────────┘
```

**הערות**:
- רכז יכול להקצות רק תחומים שבאחריותו שלו
- השינויים משפיעים על הטבלה שהמדריך רואה בדיווח שעות
- עדכון דינאמי - המדריך רואה את השינויים מיד

### 4. הגדרות

זהה לממשק המדריך:
- ערכות נושא
- הערות למפתח

---

## ממשק מנהלת כספים

### עמוד ראשי - דוח שעות

```
┌────────────────────────────────────────────────────────┐
│  דוח שעות - נובמבר 2025                 [<] [>]       │
│  ──────────────────────────────────────────────────────│
│  בחר מדריך: [▼ כל המדריכים          ]                │
└────────────────────────────────────────────────────────┘
```

#### תצוגת דוח מדריך ספציפי

```
┌────────────────────────────────────────────────────────┐
│  👤 רונאל כהן - נובמבר 2025                           │
│  ──────────────────────────────────────────────────────│
│  סטטוס אישורים:                                       │
│    ✅ שניר דואני (כימיה) - אושר ב-08.11.2025         │
│    ⏳ אלי לוי (מחשבים) - ממתין לאישור                 │
│  ──────────────────────────────────────────────────────│
│                                                        │
│  דוחות מאושרים:                                        │
│                                                        │
│  כימיה (אושר על ידי שניר):                            │
│  ┌────────┬────────┬────────┬─────────────┬──────────┐ │
│  │ תאריך  │ משמרת  │ הדרכה  │ השתלמות     │ סה"כ     │ │
│  ├────────┼────────┼────────┼─────────────┼──────────┤ │
│  │ 1.11   │ אחה"צ  │   4    │      2      │    6     │ │
│  │ 2.11   │ אחה"צ  │   5    │      0      │    5     │ │
│  │ ...    │        │        │             │          │ │
│  ├────────┴────────┼────────┼─────────────┼──────────┤ │
│  │ סה"כ           │   45   │     12      │   57     │ │
│  └────────────────┴────────┴─────────────┴──────────┘ │
│                                                        │
│  [📥 ייצא ל-Excel]                                    │
└────────────────────────────────────────────────────────┘
```

**הערות חשובות**:
- שולי רואה **רק** דוחות שאושרו על ידי רכז
- אם רכז לא אישר - הדוח לא מופיע בכלל או מסומן באפור
- כל תחום מוצג בנפרד עם שם הרכז שאישר

#### תצוגת כל המדריכים

```
סיכום חודשי - נובמבר 2025

┌──────────────┬────────────┬─────────────┬────────┬──────────┐
│ מדריך        │ תחום       │ רכז מאשר    │ שעות   │ סטטוס    │
├──────────────┼────────────┼─────────────┼────────┼──────────┤
│ רונאל כהן    │ כימיה      │ שניר דואני  │   57   │ ✅ אושר │
│              │ מחשבים     │ אלי לוי     │   -    │ ⏳ ממתין│
├──────────────┼────────────┼─────────────┼────────┼──────────┤
│ יעל אברהם    │ אסטרונומיה │ שניר דואני  │   48   │ ✅ אושר │
├──────────────┼────────────┼─────────────┼────────┼──────────┤
│ דוד לוי      │ תכנית בוקר │ מיכל כהן    │   -    │ 📝 לא   │
│              │            │             │        │  הוגש   │
└──────────────┴────────────┴─────────────┴────────┴──────────┘

סה"כ שעות מאושרות: 105
מדריכים שהגישו: 2/3

[📥 ייצא דוח מלא ל-Excel]
```

#### ייצוא Excel

הקובץ שיורד יכלול:
```
Sheet 1 - סיכום כללי:
- רשימת כל המדריכים
- סה"כ שעות לכל מדריך
- פירוט לפי תחום
- סטטוס אישור

Sheet 2 - פירוט לפי מדריך:
- טבלאות מפורטות
- תאריכים
- שעות הדרכה/השתלמות
- שם רכז מאשר

Sheet 3 - סיכום לפי תחום:
- סה"כ שעות בכל תחום
- מספר מדריכים בכל תחום
```

### הגדרות

זהה לממשק המדריך:
- ערכות נושא
- הערות למפתח

---

## ממשק אדמין

### תפריט ניווט

```
┌────────────────────────────────────────────────────────┐
│  [ניהול רכזים]  [ניהול מדריכים]  [ניהול תחומים]       │
│  [הגדרות כלליות]  [לוג מערכת]                         │
└────────────────────────────────────────────────────────┘
```

### 1. ניהול רכזים

```
┌────────────────────────────────────────────────────────┐
│  ➕ הוסף רכז חדש                                      │
│  ──────────────────────────────────────────────────────│
│  שם מלא: [____________________]                       │
│  מייל:    [____________________]                       │
│                                                        │
│  תחומי אחריות:                                         │
│  ☐ כימיה                                              │
│  ☐ מחשבים                                             │
│  ☐ אסטרונומיה                                         │
│  ☐ תכנית בוקר                                         │
│  ☐ מחוננים                                            │
│                                                        │
│  [💾 הוסף רכז]                                        │
└────────────────────────────────────────────────────────┘

רשימת רכזים קיימים:

┌────────────────────────────────────────────────────────┐
│  👤 שניר דואני                                         │
│  ──────────────────────────────────────────────────────│
│  מייל: snir@technoda.org.il                           │
│  תחומים: כימיה, מחשבים, אסטרונומיה                   │
│  מדריכים משויכים: 5                                   │
│  סטטוס: 🟢 פעיל                                       │
│                                                        │
│  [✏️ ערוך]  [🗑️ הסר]  [👥 צפה במדריכים]            │
└────────────────────────────────────────────────────────┘
```

### 2. ניהול מדריכים

```
┌────────────────────────────────────────────────────────┐
│  ➕ הוסף מדריך חדש                                    │
│  ──────────────────────────────────────────────────────│
│  שם מלא: [____________________]                       │
│  מייל:    [____________________]                       │
│                                                        │
│  [💾 הוסף מדריך]                                      │
└────────────────────────────────────────────────────────┘

רשימת מדריכים קיימים:

┌────────────────────────────────────────────────────────┐
│  👤 רונאל כהן                                         │
│  ──────────────────────────────────────────────────────│
│  מייל: ronalcohen@gmail.com                           │
│  רכזים משויכים: שניר דואני, אלי לוי                  │
│  תחומים: כימיה, מחשבים                               │
│  סטטוס: 🟢 פעיל                                       │
│  תאריך הצטרפות: 01.09.2025                            │
│                                                        │
│  [✏️ ערוך]  [🗑️ הסר]  [📊 צפה בדיווחים]            │
└────────────────────────────────────────────────────────┘
```

### 3. ניהול תחומים

```
┌────────────────────────────────────────────────────────┐
│  📚 ניהול מקצועות ותחומים                             │
│  ──────────────────────────────────────────────────────│
│                                                        │
│  תחומי בוקר:                                          │
│  • תכנית בוקר                          [✏️] [🗑️]     │
│  • מחוננים                             [✏️] [🗑️]     │
│  [➕ הוסף תחום בוקר]                                  │
│                                                        │
│  תחומי אחר הצהריים:                                   │
│  • כימיה                               [✏️] [🗑️]     │
│  • מחשבים                              [✏️] [🗑️]     │
│  • אסטרונומיה                          [✏️] [🗑️]     │
│  [➕ הוסף תחום אחה"צ]                                │
└────────────────────────────────────────────────────────┘
```

### 4. הגדרות כלליות

```
┌────────────────────────────────────────────────────────┐
│  ⚙️ הגדרות מערכת                                      │
│  ──────────────────────────────────────────────────────│
│                                                        │
│  שם הארגון:                                           │
│  [טכנודע                                ]             │
│                                                        │
│  לוגו:                                                │
│  [בחר קובץ]                                           │
│                                                        │
│  הגדרות EmailJS:                                      │
│  Service ID:    [_____________]                       │
│  Template ID:   [_____________]                       │
│  Public Key:    [_____________]                       │
│                                                        │
│  מספר גיבויים מקסימלי:                                │
│  [▼ 10]                                               │
│                                                        │
│  [💾 שמור הגדרות]                                     │
└────────────────────────────────────────────────────────┘
```

### 5. לוג מערכת

```
┌────────────────────────────────────────────────────────┐
│  📋 לוג פעילות מערכת                                  │
│  ──────────────────────────────────────────────────────│
│  סינון: [▼ כל הפעילויות  ] [▼ 7 ימים אחרונים  ]   │
│  ──────────────────────────────────────────────────────│
│                                                        │
│  🔵 08.11.2025 14:23 - רונאל כהן שיגר דוח שעות       │
│     לשניר דואני (כימיה)                               │
│                                                        │
│  🟢 08.11.2025 15:45 - שניר דואני אישר דוח של         │
│     רונאל כהן                                         │
│                                                        │
│  🟡 08.11.2025 16:12 - אלי לוי ערך דוח של רונאל כהן  │
│     (שינוי מ-5 ל-4 שעות ב-2.11)                       │
│                                                        │
│  🔴 07.11.2025 10:30 - שניר דואני דחה דוח של          │
│     יעל אברהם                                         │
│                                                        │
│  [📥 ייצא לוג]                                        │
└────────────────────────────────────────────────────────┘
```

---

## תהליכי עבודה

### תהליך 1: דיווח שעות מדריך

```
מדריך
  │
  ├─► 1. מדריך ממלא דיווח שעות בטבלה החודשית
  │      - בחירת שעות הדרכה/השתלמות לכל יום
  │      - גיבוי אוטומטי אחרי כל שינוי
  │
  ├─► 2. מדריך לוחץ "שגר לרכז" (לפי תחום)
  │      - למשל: "שגר לשניר" (כימיה)
  │      - הדוח נשלח רק עם השעות הרלוונטיות
  │
  ├─► 3. רכז מקבל התראה במייל
  │      - "רונאל כהן שיגר דוח שעות לאישור"
  │      - קישור לצפייה בדוח
  │
  └─► 4. מדריך יכול להמשיך לערוך ולשלוח מחדש
         - הרכז יקבל התראה על שליחה חוזרת
```

### תהליך 2: אישור דוח על ידי רכז

```
רכז
  │
  ├─► 1. רכז נכנס ל"אישורי דיווח שעות"
  │      - רואה רשימת מדריכים שממתינים לאישור
  │
  ├─► 2. רכז לוחץ "צפה בדוח"
  │      - רואה את כל הדיווחים של המדריך
  │      - יכול לערוך שעות (בצבע סגול)
  │
  ├─► 3. רכז בוחר אחד משלושה:
  │      │
  │      ├─► א. אישור
  │      │     - לוחץ "אשר ושלח לשולי"
  │      │     - מייל נשלח לשולי (מנהלת כספים)
  │      │     - מייל נשלח למדריך על האישור
  │      │
  │      ├─► ב. דחייה
  │      │     - לוחץ "החזר לתיקון"
  │      │     - כותב הערות למדריך
  │      │     - מייל נשלח למדריך עם ההערות
  │      │     - המדריך יכול לתקן ולשלוח מחדש
  │      │
  │      └─► ג. עריכה ואישור
  │            - עורך שעות במקרה הצורך
  │            - השינויים מסומנים בסגול
  │            - לוחץ "אשר ושלח לשולי"
  │
  └─► 4. תיעוד
         - כל עריכה נרשמת בלוג
         - המדריך רואה את העריכות בזמן אמת
```

### תהליך 3: קבלת דוח על ידי מנהלת כספים

```
מנהלת כספים (שולי)
  │
  ├─► 1. שולי מקבלת מייל
  │      - "דוח שעות של רונאל כהן אושר"
  │      - קישור למערכת
  │
  ├─► 2. שולי נכנסת למערכת
  │      - רואה רק דוחות מאושרים
  │      - דוחות שלא אושרו מסומנים באפור
  │
  ├─► 3. שולי בוחרת מדריך
  │      - רואה פירוט מלא של שעות
  │      - רואה מי הרכזים שאישרו
  │      - רואה סטטוס כל תחום
  │
  ├─► 4. שולי מייצאת ל-Excel
  │      - לוחצת "ייצא ל-Excel"
  │      - מקבלת קובץ מפורט
  │      - משתמשת בקובץ לחישוב שכר
  │
  └─► 5. שולי משלמת למדריך
         - מבוסס על הנתונים המאושרים
```

### תהליך 4: גיבוי ושחזור

```
מדריך
  │
  ├─► 1. גיבוי אוטומטי
  │      - לפני כל שינוי נוצר גיבוי
  │      - נשמרים 10 גיבויים אחרונים
  │      - תיאור הפעולה נרשם
  │
  ├─► 2. שחזור
  │      - מדריך נכנס ל"הגדרות" > "שחזור מגיבוי"
  │      - רואה רשימת 10 גיבויים אחרונים
  │      - בוחר גיבוי ולוחץ "שחזר"
  │
  └─► 3. אישור שחזור
         - הודעה: "האם לשחזר לגיבוי מתאריך X?"
         - לאחר אישור - הנתונים משוחזרים
         - נוצר גיבוי של המצב הנוכחי לפני השחזור
```

---

## עיצוב וחווית משתמש

### עקרונות עיצוב

#### 1. צבעים
```
Background:        #0a0e27 (כחול כהה)
Card Background:   #1a1f3a (כחול כהה בהיר)
Primary:           #3b82f6 (כחול)
Secondary:         #8b5cf6 (סגול)
Accent:            #f59e0b (כתום/זהב)
Success:           #10b981 (ירוק)
Error:             #ef4444 (אדום)
Text Primary:      #e4e7eb (לבן-אפור)
Text Secondary:    #9ca3af (אפור בהיר)
```

#### 2. טיפוגרפיה
```
Font Family: 'Bricolage Grotesque', sans-serif
Sizes:
  - H1: 32px, Bold (כותרות ראשיות)
  - H2: 24px, SemiBold (כותרות משניות)
  - H3: 18px, SemiBold (כותרות תתי)
  - Body: 14-16px, Regular (טקסט רגיל)
  - Small: 12-13px, Medium (תוויות וכיתובים)
```

#### 3. רווחים
```
Padding:
  - Cards: 24-40px
  - Buttons: 12-16px
  - Inputs: 12-14px

Gaps:
  - Grid: 20-24px
  - Flex: 12-16px

Border Radius:
  - Cards: 12-16px
  - Buttons: 8px
  - Inputs: 8px
```

### ערכות נושא

#### ערכת מחדל (כחול)
```css
--bg-color: #0a0e27;
--primary-color: #3b82f6;
--secondary-color: #8b5cf6;
--card-bg: #1a1f3a;
--accent-color: #f59e0b;
--success-color: #10b981;
```

#### ערכת סגול (Purple Dream)
```css
--bg-color: #1e1b2e;
--primary-color: #9333ea;
--secondary-color: #ec4899;
--card-bg: #2d2640;
--accent-color: #f59e0b;
--success-color: #10b981;
```

#### ערכת ירוק (Emerald Pro)
```css
--bg-color: #0a1f1a;
--primary-color: #10b981;
--secondary-color: #059669;
--card-bg: #1a2f2a;
--accent-color: #f59e0b;
--success-color: #34d399;
```

#### ערכת כתום (Sunset Fire)
```css
--bg-color: #1a0f0a;
--primary-color: #f97316;
--secondary-color: #ea580c;
--card-bg: #2a1f1a;
--accent-color: #fbbf24;
--success-color: #10b981;
```

### אלמנטים אינטראקטיביים

#### כפתורים
```
Primary Button:
  - Background: Linear gradient (primary → secondary)
  - Hover: translateY(-2px) + shadow
  - Active: translateY(0)
  
Secondary Button:
  - Background: rgba(255,255,255,0.05)
  - Border: 1px solid rgba(255,255,255,0.1)
  - Hover: background lighter

Success Button:
  - Background: Linear gradient (success colors)
  - Same hover effects

Danger Button:
  - Background: rgba(red, 0.1)
  - Border: rgba(red, 0.3)
```

#### Inputs & Dropdowns
```
Default State:
  - Background: rgba(15,23,42,0.6)
  - Border: 1px solid rgba(255,255,255,0.08)
  
Focus State:
  - Background: rgba(15,23,42,0.8)
  - Border: primary-color
  - Box-shadow: 0 0 0 3px rgba(primary, 0.1)

Hover State:
  - Background: rgba(15,23,42,0.7)
```

#### טבלאות
```
Header:
  - Background: rgba(15,23,42,0.8)
  - Text: uppercase, 11px, letter-spacing: 1px
  
Rows:
  - Border-bottom: 1px solid rgba(255,255,255,0.04)
  - Hover: background rgba(255,255,255,0.02)
  
Edited Cells (by Coordinator):
  - Background: rgba(139,92,246,0.1)
  - Border: 1px solid rgba(139,92,246,0.3)
  - Icon: 🔧 או 📝
```

### אנימציות

```css
/* Page transitions */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Button hover */
transition: all 0.3s ease;

/* Modal appearance */
@keyframes modalSlideIn {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Loading spinner */
@keyframes spin {
  to { transform: rotate(360deg); }
}
```

### Responsive Design

#### Desktop (1920px+)
- תצוגה מלאה
- טבלאות רחבות
- 3-4 עמודות בגריד

#### Tablet (768px-1920px)
- תצוגה מותאמת
- 2 עמודות בגריד
- טבלאות עם scroll אופקי

#### Mobile (375px-768px)
- תצוגה אנכית
- עמודה אחת
- תפריט נגלל
- כפתורים מלאים

---

## אבטחת מידע

### שכבות אבטחה

#### 1. אימות משתמשים
```
✅ Firebase Authentication
✅ Google OAuth 2.0
✅ רשימת משתמשים מאושרים בלבד
✅ בדיקת הרשאות בכל פעולה
```

#### 2. הרשאות בסיס נתונים
```javascript
// Firebase Security Rules
{
  "rules": {
    "users": {
      "$userId": {
        ".read": "$userId === auth.uid || root.child('users').child(auth.uid).child('role').val() === 'admin'",
        ".write": "root.child('users').child(auth.uid).child('role').val() === 'admin'"
      }
    },
    "timesheets": {
      "$instructorId": {
        ".read": "$instructorId === auth.uid || 
                  root.child('users').child(auth.uid).child('role').val() === 'coordinator' || 
                  root.child('users').child(auth.uid).child('role').val() === 'finance' ||
                  root.child('users').child(auth.uid).child('role').val() === 'admin'",
        ".write": "$instructorId === auth.uid || 
                   root.child('users').child(auth.uid).child('role').val() === 'coordinator' ||
                   root.child('users').child(auth.uid).child('role').val() === 'admin'"
      }
    }
  }
}
```

#### 3. אבטחת נתונים
```
✅ הצפנת תקשורת (HTTPS)
✅ הצפנת נתונים ב-Firebase
✅ גיבוי אוטומטי
✅ לוג פעילות מלא
✅ מניעת SQL Injection (NoSQL)
✅ מניעת XSS (sanitization)
```

#### 4. פרטיות
```
✅ רק מידע הכרחי נשמר
✅ מדריך רואה רק את הנתונים שלו
✅ רכז רואה רק מדריכים משויכים
✅ שולי רואה רק דוחות מאושרים
✅ לוג מחיקות ושינויים
```

### מדיניות סיסמאות

```
❌ אין סיסמאות במערכת
✅ התחברות דרך Google בלבד
✅ Firebase מנהל את האבטחה
```

---

## גיבוי ושחזור

### גיבוי אוטומטי (למדריכים)

#### מתי נוצר גיבוי?
```
1. לפני הוספת שעות חדשות
2. לפני עריכת שעות קיימות
3. לפני מחיקת רשומה
4. לפני שחזור מגיבוי קודם
```

#### מבנה גיבוי
```javascript
{
  "backupId": "backup_20251108_143022",
  "timestamp": 1699453822000,
  "instructorId": "instructor123",
  "action": "הוספת 6 שעות ב-2.11 במחשבים",
  "automatic": true,
  "data": {
    "year": 2025,
    "month": 11,
    "entries": {
      // כל הרשומות לפני השינוי
    }
  }
}
```

#### מגבלות
```
- 10 גיבויים אחרונים לכל מדריך
- גיבוי ישן ביותר נמחק אוטומטית
- גיבויים נשמרים ל-90 יום
```

### שחזור

#### תהליך שחזור
```
1. מדריך נכנס ל"הגדרות" > "שחזור מגיבוי"
2. רואה רשימת 10 גיבויים אחרונים עם תיאור
3. בוחר גיבוי ולוחץ "שחזר"
4. מערכת מציגה אזהרה: "פעולה זו תחליף את הנתונים הנוכחיים"
5. לאחר אישור - הנתונים משוחזרים
6. נוצר גיבוי של המצב הנוכחי לפני השחזור
```

### גיבוי מערכת (Admin)

```
✅ Firebase Backup אוטומטי יומי
✅ ייצוא ידני של כל הנתונים
✅ שחזור מלא של המערכת
✅ אחסון בענן (Firebase)
```

---

## התראות ומיילים

### EmailJS Configuration

#### שירות המיילים
```javascript
{
  serviceId: "service_xxxxx",
  templateId: "template_xxxxx",
  publicKey: "your_public_key"
}
```

### תבניות מייל

#### 1. דוח נשלח לרכז
```
נושא: דוח שעות חדש לאישור - [שם מדריך]

שלום [שם רכז],

[שם מדריך] שיגר/ה דוח שעות לאישור.

פרטים:
- תקופה: [חודש] [שנה]
- תחום: [תחום]
- סה"כ שעות: [מספר] שעות

כדי לצפות ולאשר את הדוח, היכנס למערכת:
[קישור למערכת]

בברכה,
מערכת ניהול שעות - טכנודע
```

#### 2. דוח אושר - למדריך
```
נושא: הדוח שלך אושר - [חודש] [שנה]

שלום [שם מדריך],

הדוח שלך עבור [חודש] [שנה] בתחום [תחום] אושר על ידי [שם רכז].

פרטים:
- תחום: [תחום]
- סה"כ שעות: [מספר] שעות
- תאריך אישור: [תאריך]

הדוח הועבר למחלקת כספים לעיבוד.

בברכה,
מערכת ניהול שעות - טכנודע
```

#### 3. דוח נדחה - למדריך
```
נושא: הדוח שלך נדחה - נדרש תיקון

שלום [שם מדריך],

הדוח שלך עבור [חודש] [שנה] בתחום [תחום] נדחה על ידי [שם רכז].

הערות הרכז:
[הערות]

אנא תקן את הדוח ושלח מחדש.

כדי לתקן את הדוח, היכנס למערכת:
[קישור למערכת]

בברכה,
מערכת ניהול שעות - טכנודע
```

#### 4. דוח שוגר מחדש - לרכז
```
נושא: דוח עודכן - [שם מדריך]

שלום [שם רכז],

[שם מדריך] שיגר/ה מחדש את הדוח עבור [חודש] [שנה].

זוהי שליחה חוזרת מספר [מספר].

כדי לצפות בדוח המעודכן:
[קישור למערכת]

בברכה,
מערכת ניהול שעות - טכנודע
```

#### 5. דוח מאושר נשלח - למנהלת כספים
```
נושא: דוח מאושר חדש - [שם מדריך]

שלום שולי,

דוח שעות מאושר חדש מחכה לך במערכת.

פרטים:
- מדריך: [שם מדריך]
- תקופה: [חודש] [שנה]
- תחום: [תחום]
- סה"כ שעות: [מספר] שעות
- אושר על ידי: [שם רכז]
- תאריך אישור: [תאריך]

כדי לצפות בדוח ולייצאו:
[קישור למערכת]

בברכה,
מערכת ניהול שעות - טכנודע
```

#### 6. הערה למפתח
```
נושא: הערה חדשה מהמערכת - [שם משתמש]

שלום שניר,

[שם משתמש] ([תפקיד]) שלח/ה הערה מהמערכת.

נושא: [נושא]

הודעה:
[תוכן ההודעה]

תאריך: [תאריך ושעה]

מדריך/רכז: [מייל המשתמש]

בברכה,
מערכת ניהול שעות - טכנודע
```

### טריגרים לשליחת מיילים

```javascript
// 1. מדריך שולח דוח
sendEmail('report_submitted', {
  to: coordinatorEmail,
  instructorName: name,
  month: month,
  subject: subject,
  totalHours: hours
});

// 2. רכז מאשר דוח
sendEmail('report_approved', {
  to: instructorEmail,
  coordinatorName: name,
  month: month,
  subject: subject,
  totalHours: hours
});
sendEmail('report_sent_to_finance', {
  to: 'shuli@technoda.org.il',
  // ... details
});

// 3. רכז דוחה דוח
sendEmail('report_rejected', {
  to: instructorEmail,
  coordinatorName: name,
  month: month,
  note: rejectionNote
});

// 4. מדריך שולח מחדש
sendEmail('report_resubmitted', {
  to: coordinatorEmail,
  instructorName: name,
  resubmissionCount: count
});

// 5. הערה למפתח
sendEmail('developer_note', {
  to: 'snir@technoda.org.il',
  userName: name,
  userRole: role,
  subject: subject,
  message: message
});
```

---

## דרישות נוספות

### תאימות דפדפנים

```
✅ Chrome 90+ (primary)
✅ Firefox 88+
✅ Safari 14+
✅ Edge 90+
❌ Internet Explorer (לא נתמך)
```

### ביצועים

```
Target Metrics:
- Initial Load: < 3 seconds
- Page Transition: < 500ms
- Database Query: < 1 second
- File Export: < 5 seconds
```

### נגישות (Accessibility)

```
✅ Keyboard navigation
✅ Screen reader support
✅ High contrast mode
✅ RTL support (עברית)
✅ Focus indicators
✅ ARIA labels
```

### תמיכה בשפות

```
Primary: עברית (RTL)
Secondary: אנגלית (LTR) - עתידי
```

### גרסאות נייד

```
Phase 1: Desktop first
Phase 2: Tablet support
Phase 3: Mobile responsive (עתידי)
```

---

## תכנית יישום

### שלב 1: תשתית (שבוע 1)
```
✅ הקמת Firebase Project
✅ הגדרת Authentication
✅ הגדרת Database Structure
✅ הגדרת Security Rules
✅ הקמת EmailJS
```

### שלב 2: ממשק מדריך (שבוע 2)
```
✅ דף התחברות
✅ דיווח שעות - טבלה דינמית
✅ שליחת דוחות לרכזים
✅ הסטוריית דיווחים
✅ נתונים אישיים
✅ הגדרות + ערכות נושא
✅ גיבוי ושחזור
```

### שלב 3: ממשק רכז (שבוע 3)
```
✅ אישורי דיווח שעות
✅ עריכת דוחות
✅ שיוך מדריכים
✅ ניהול מדריכים
✅ הקצאת תחומים
✅ שליחה לשולי
```

### שלב 4: ממשק מנהלת כספים (שבוע 4)
```
✅ דוח שעות מרוכז
✅ סינון לפי מדריך
✅ סינון לפי חודש
✅ תצוגת סטטוס אישורים
✅ ייצוא ל-Excel
```

### שלב 5: ממשק אדמין (שבוע 5)
```
✅ ניהול רכזים
✅ ניהול מדריכים
✅ ניהול תחומים
✅ הגדרות כלליות
✅ לוג מערכת
```

### שלב 6: בדיקות ושיפורים (שבוע 6)
```
✅ בדיקות פונקציונליות
✅ בדיקות אבטחה
✅ בדיקות ביצועים
✅ תיקון באגים
✅ שיפורי UX/UI
```

### שלב 7: העלאה לפרודקשן (שבוע 7)
```
✅ העלאה ל-Firebase Hosting
✅ הדרכת משתמשים
✅ מסמכי עזרה
✅ מעקב ותמיכה
```

---

## נספחים

### נספח א': רשימת משתמשים לדוגמה

```csv
Email,Full Name,Role,Status
papasnir@gmail.com,שניר דואני,admin,active
snir@technoda.org.il,שניר דואני (רכז),coordinator,active
eli@technoda.org.il,אלי לוי,coordinator,active
shuli@technoda.org.il,שולי,finance,active
ronalcohen@gmail.com,רונאל כהן,instructor,active
yael@gmail.com,יעל אברהם,instructor,active
david@gmail.com,דוד לוי,instructor,active
```

### נספח ב': רשימת תחומים

```
תחומי בוקר:
- תכנית בוקר
- מחוננים

תחומי אחר הצהריים:
- כימיה
- מחשבים
- אסטרונומיה
```

### נספח ג': תרחישי שימוש

#### תרחיש 1: מדריך חדש מצטרף
```
1. אדמין מוסיף מדריך חדש למערכת
2. מדריך מקבל מייל עם הוראות
3. מדריך מתחבר דרך Google
4. רכז משייך את המדריך אליו
5. רכז מקצה תחומים למדריך
6. מדריך רואה את התחומים שלו
7. מדריך מתחיל למלא שעות
```

#### תרחיש 2: סוף חודש - תהליך מלא
```
1. מדריך ממלא דיווח חודשי
2. מדריך שולח לכל הרכזים הרלוונטיים
3. רכז 1 עובר על הדוח, עורך ומאשר
4. רכז 2 עובר על הדוח ומאשר
5. שולי מקבלת התראה שהדוח מוכן
6. שולי מייצאת ל-Excel
7. שולי משלמת למדריך
```

#### תרחיש 3: דוח נדחה
```
1. מדריך שולח דוח לרכז
2. רכז מוצא טעות
3. רכז דוחה את הדוח עם הערות
4. מדריך מקבל מייל
5. מדריך מתקן את הדוח
6. מדריך שולח מחדש
7. רכז מקבל התראה על שליחה חוזרת
8. רכז מאשר
```

---

## סיכום

מערכת ניהול שעות טכנודע היא פתרון מקיף לניהול דיווחי שעות בארגון, המבוסס על:

✅ **טכנולוגיה מודרנית**: Firebase, HTML5, CSS3, JavaScript
✅ **אבטחה גבוהה**: Google OAuth, Security Rules, הצפנה
✅ **ממשק נוח**: עיצוב מקצועי, responsive, נגיש
✅ **תהליכים ברורים**: היררכיה של אישורים, מעקב מלא
✅ **גיבוי מלא**: אוטומטי וידני, 10 נקודות שחזור
✅ **התראות אוטומטיות**: EmailJS עם תבניות מותאמות
✅ **דוחות מתקדמים**: ייצוא Excel, סינונים, סיכומים

המערכת תאפשר לטכנודע לנהל את תהליך דיווח השעות בצורה יעילה, שקופה ומדויקת, תוך חיסכון משמעותי בזמן ובמשאבים.

---

**תאריך אפיון**: 09.11.2025
**גרסה**: 1.0
**מאפיין**: שניר דואני
**לקוח**: טכנודע
